from dataclasses import dataclass
from goat.classes.plugin_base import PluginBase
from .service import ExaSearchService


@dataclass
class ExaSearchPluginOptions:
    """Options for the ExaSearchPlugin."""
    api_key: str  # API key for external service integration


class ExaSearchPlugin(PluginBase):
    def __init__(self, options: ExaSearchPluginOptions):
        super().__init__("exa_search", [ExaSearchService(options.api_key)])

    def supports_chain(self, chain) -> bool:
        return True


def exa_search(options: ExaSearchPluginOptions) -> ExaSearchPlugin:
    return ExaSearchPlugin(options)
